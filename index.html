<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="HandheldFriendly" content="true">
<title>Progress Report</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Inter', system-ui, -apple-system, sans-serif;
            background: #f8f9fa;
            padding: 20px;
            color: #1a1a1a;
        }
        .container {
            max-width: 900px;
            margin: 0 auto;
            background: white;
            padding: 40px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.08);
            border-radius: 12px;
            width: 100%;
            box-sizing: border-box;
        }
.header {
            padding-bottom: 20px;
            margin-bottom: 30px;
            border-bottom: 1px solid #eaeaea;
        }
        
        h1 {
            color: #1a1a1a;
            font-size: 24px;
            font-weight: 600;
            margin-bottom: 4px;
            letter-spacing: -0.5px;
        }
        
        .subtitle {
            color: #888;
            font-size: 14px;
            font-weight: 400;
        }
        
        .info-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .info-field {
            display: flex;
            flex-direction: column;
        }
        
        label {
            font-weight: 500;
            color: #555;
            margin-bottom: 8px;
            font-size: 13px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        input, select, textarea {
            padding: 12px;
            border: 1px solid #e0e0e0;
            border-radius: 6px;
            font-size: 14px;
            font-family: inherit;
            background: #fafafa;
            transition: all 0.2s;
            -webkit-appearance: none;
            -moz-appearance: none;
            appearance: none;
            width: 100%;
        }
input:focus, select:focus, textarea:focus {
            outline: none;
            border-color: #ccc;
            background: white;
            box-shadow: 0 0 0 2px rgba(0,0,0,0.05);
        }
        
        .section-title {
            padding: 12px 0;
            margin: 30px 0 20px 0;
            font-weight: 500;
            color: #1a1a1a;
            border-bottom: 1px solid #eaeaea;
        }
        
        .milestone-checklist {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 12px;
            margin-bottom: 25px;
        }
        
        .checkbox-item {
            display: flex;
            align-items: center;
            padding: 12px 16px;
            background: white;
            border-radius: 6px;
            border: 1px solid #eaeaea;
            transition: all 0.2s;
        }
        
        .checkbox-item:hover {
            background: #fafafa;
            box-shadow: 0 2px 8px rgba(0,0,0,0.03);
        }
        
        .checkbox-item input[type="checkbox"] {
            margin-right: 12px;
            width: 22px;
            height: 22px;
            min-width: 22px;
            min-height: 22px;
            cursor: pointer;
            accent-color: #1a1a1a;
            -webkit-appearance: checkbox;
            -moz-appearance: checkbox;
            appearance: checkbox;
        }
        
        .checkbox-item input[type="checkbox"]:checked {
            accent-color: #1a1a1a;
            background-color: #1a1a1a;
        }

        .checkbox-item label {
            margin: 0;
            cursor: pointer;
            font-weight: 400;
            color: #333;
        }
        
        textarea {
            min-height: 100px;
            resize: vertical;
        }
        
        .button-group {
            display: flex;
            gap: 12px;
            margin-top: 30px;
        }
        button {
            padding: 14px 28px;
            border: none;
            border-radius: 6px;
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s;
            -webkit-tap-highlight-color: transparent;
        }
.btn-primary {
            background: #1a1a1a;
            color: white;
        }
        
        .btn-primary:hover {
            background: #333;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        
        .btn-secondary {
            background: white;
            color: #1a1a1a;
            border: 1px solid #e0e0e0;
        }
        
        .btn-secondary:hover {
            background: #f8f8f8;
            border-color: #ccc;
        }
        
        .progress-bar-container {
            margin: 25px 0;
            background: #f0f0f0;
            height: 30px;
            border-radius: 6px;
            overflow: hidden;
            position: relative;
            box-shadow: inset 0 1px 3px rgba(0,0,0,0.05);
        }
        
        .progress-bar {
            height: 100%;
            background: #1a1a1a;
            width: 0%;
            transition: width 0.5s ease-out;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: 500;
            font-size: 12px;
        }
        
        .status-badge {
            display: inline-block;
            padding: 6px 14px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 500;
            margin-top: 12px;
            background: #f0f0f0;
            color: #555;
        }
        
        .status-initiated {
            background: #f0f0f0;
            color: #555;
        }
        
        .status-progressing {
            background: #e0e0e0;
            color: #333;
        }
        
        .status-advanced {
            background: #1a1a1a;
            color: white;
        }
        
        .metrics-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .risk-gauge {
            padding: 16px;
            border-radius: 8px;
            text-align: center;
            font-weight: 600;
            font-size: 14px;
            margin-top: 8px;
        }
        
        .risk-safe {
            background: #d4edda;
            color: #155724;
        }
        
        .risk-caution {
            background: #fff3cd;
            color: #856404;
        }
        
        .risk-danger {
            background: #f8d7da;
            color: #721c24;
        }
        
        .risk-friendzone {
            background: #e2e3e5;
            color: #383d41;
        }
        
        .badge-gallery {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(140px, 1fr));
            gap: 12px;
            margin-bottom: 25px;
        }
        
        .badge-item {
            padding: 16px;
            border-radius: 8px;
            text-align: center;
            border: 2px solid #eaeaea;
            background: #f8f8f8;
            transition: all 0.3s;
        }
        
        .badge-item.unlocked {
            background: #fff;
            border-color: #1a1a1a;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        
        .badge-item.locked {
            opacity: 0.4;
            background: #f0f0f0;
        }
        
        .badge-icon {
            font-size: 32px;
            margin-bottom: 8px;
        }
        
        .badge-name {
            font-size: 12px;
            font-weight: 500;
            color: #333;
        }
        
        .risk-checklist {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 12px;
            margin-bottom: 25px;
        }
        
        .risk-section {
            background: #fafafa;
            padding: 20px;
            border-radius: 8px;
            border: 1px solid #eaeaea;
        }
        
        .risk-section.red-flags {
            border-left: 4px solid #dc3545;
        }
        
        .risk-section.green-flags {
            border-left: 4px solid #28a745;
        }
        
        .risk-section-title {
            font-weight: 600;
            margin-bottom: 12px;
            font-size: 14px;
        }
        
        .excuse-tracker {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 12px;
            margin-bottom: 25px;
        }
        
        .quality-score-display {
            margin-top: 12px;
            padding: 12px;
            background: #f8f9fa;
            border-radius: 6px;
            font-weight: 500;
            text-align: center;
        }
        
        input[type="range"] {
            width: 100%;
            margin: 12px 0;
        }
        
        @media (max-width: 768px) {
            .info-grid, .metrics-grid {
                grid-template-columns: 1fr;
            }
            
            .badge-gallery {
                grid-template-columns: repeat(auto-fill, minmax(100px, 1fr));
            }
            
            .container {
                padding: 20px;
            }
            
            .risk-section {
                margin-bottom: 20px;
            }
            
            .risk-dashboard {
                grid-template-columns: 1fr !important;
            }
        }
    </style>
</head>
<body>
    <div class="container">
    <div class="header">
            <h1>RELATIONSHIP PROGRESS TRACKER</h1>
            <div class="subtitle">Confidential development metrics</div>
            <div class="subtitle">Reporting results to wingman of choice is mandatory</div>
        </div>
<div class="info-grid">
            <div class="info-field">
                <label>Report Submitted By:</label>
                <input type="text" id="submitter" placeholder="Your name">
            </div>
            <div class="info-field">
                <label>Report Date:</label>
                <input type="date" id="reportDate">
            </div>
            <div class="info-field">
                <label>Subject Name (The Object):</label>
                <input type="text" id="subjectName" placeholder="Name (optional)">
            </div>
<div class="info-field">
                <label>Minutes Since Initial Contact (exact value please):</label>
                <input type="number" id="daysSince" placeholder="0">
            </div>
        </div>
        
        <div class="section-title">Progress Overview</div>
        <div class="progress-bar-container">
            <div class="progress-bar" id="progressBar">0%</div>
        </div>
        <div id="statusBadge"></div>
        
        <div class="section-title">Key Performance Metrics</div>
        <div class="metrics-grid">
            <div class="info-field">
                <label>Text Response Time Average:</label>
                <select id="responseTime" onchange="updateMetrics()">
                    <option value="">Select...</option>
                    <option value="instant">Instant</option>
                    <option value="5min">Within 5 min</option>
                    <option value="1hour">Within 1 hour</option>
                    <option value="sameday">Same day</option>
                    <option value="ghosted">Ghosted for 24+ hours</option>
                </select>
            </div>
            <div class="info-field">
                <label>Awkward Silence Count:</label>
                <input type="number" id="awkwardCount" min="0" placeholder="0" onchange="updateMetrics()">
            </div>
            <div class="info-field">
                <label>Friend Zone Risk Level:</label>
                <select id="friendZoneRisk" onchange="updateMetrics()">
                    <option value="">Select...</option>
                    <option value="safe">Safe</option>
                    <option value="caution">Caution</option>
                    <option value="danger">DANGER ZONE</option>
                    <option value="friendzone">Already there</option>
                </select>
                <div id="riskGaugeDisplay"></div>
            </div>
        </div>
        
        <div class="section-title">Milestone Tracker</div>
        <div class="milestone-checklist">
            <div class="checkbox-item">
                <input type="checkbox" id="m1" onchange="updateProgress(); updateBadges();">
                <label for="m1">Exchanged contact info</label>
            </div>
            <div class="checkbox-item">
                <input type="checkbox" id="m2" onchange="updateProgress(); updateBadges();">
                <label for="m2">Had first conversation (only sober counts)</label>
            </div>
            <div class="checkbox-item">
                <input type="checkbox" id="m3" onchange="updateProgress(); updateBadges();">
                <label for="m3">Went on first date</label>
            </div>
            <div class="checkbox-item">
                <input type="checkbox" id="m4" onchange="updateProgress(); updateBadges();">
                <label for="m4">Physical contact (hand holding)</label>
            </div>
            <div class="checkbox-item">
                <input type="checkbox" id="m5" onchange="updateProgress(); updateBadges();">
                <label for="m5">First kiss</label>
            </div>
            <div class="checkbox-item">
                <input type="checkbox" id="m6" onchange="updateProgress(); updateBadges();">
                <label for="m6">Made out</label>
            </div>
        <div class="checkbox-item">
                <input type="checkbox" id="m7" onchange="updateProgress(); updateBadges();">
                <label for="m7">Doctor Games</label>
            </div>
<div class="checkbox-item">
                <input type="checkbox" id="m8" onchange="updateProgress(); updateBadges();">
                <label for="m8">Relationship established (optional)</label>
            </div>
        </div>
        
        <div class="section-title">Achievement Badges</div>
        <div class="badge-gallery" id="badgeGallery">
            <div class="badge-item locked" id="badge-first-text">
                <div class="badge-icon">üì±</div>
                <div class="badge-name">First Text Sent</div>
            </div>
            <div class="badge-item locked" id="badge-no-panic">
                <div class="badge-icon">üòå</div>
                <div class="badge-name">Didn't Panic</div>
            </div>
            <div class="badge-item locked" id="badge-asked-out">
                <div class="badge-icon">üí™</div>
                <div class="badge-name">Actually Asked Her Out</div>
            </div>
            <div class="badge-item locked" id="badge-survived-date">
                <div class="badge-icon">‚úÖ</div>
                <div class="badge-name">Survived First Date</div>
            </div>
            <div class="badge-item locked" id="badge-3-dates">
                <div class="badge-icon">üéØ</div>
                <div class="badge-name">Made It Past 3 Dates</div>
            </div>
            <div class="badge-item locked" id="badge-speedrunner">
                <div class="badge-icon">‚ö°</div>
                <div class="badge-name">Speedrunner</div>
            </div>
            <div class="badge-item locked" id="badge-turtle">
                <div class="badge-icon">üê¢</div>
                <div class="badge-name">Turtle Mode</div>
            </div>
        </div>
        
        <div class="section-title">Risk Assessment Dashboard</div>
        <div class="risk-dashboard" style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 25px;">
            <div class="risk-section red-flags">
                <div class="risk-section-title">üö© Red Flags Detected</div>
                <div class="risk-checklist">
                    <div class="checkbox-item">
                        <input type="checkbox" id="rf1" onchange="updateMetrics()">
                        <label for="rf1">Mentioned ex</label>
                    </div>
                    <div class="checkbox-item">
                        <input type="checkbox" id="rf2" onchange="updateMetrics()">
                        <label for="rf2">Muslim</label>
                    </div>
                    <div class="checkbox-item">
                        <input type="checkbox" id="rf3" onchange="updateMetrics()">
                        <label for="rf3">Wants monogamy</label>
                    </div>
                    <div class="checkbox-item">
                        <input type="checkbox" id="rf4" onchange="updateMetrics()">
                        <label for="rf4">Big Nose (Jewish Ancestors)</label>
                    </div>
                </div>
            </div>
            <div class="risk-section green-flags">
                <div class="risk-section-title">‚úÖ Green Flags Observed</div>
                <div class="risk-checklist">
                    <div class="checkbox-item">
                        <input type="checkbox" id="gf1" onchange="updateMetrics()">
                        <label for="gf1">Laughed at your jokes</label>
                    </div>
                    <div class="checkbox-item">
                        <input type="checkbox" id="gf2" onchange="updateMetrics()">
                        <label for="gf2">Initiated conversation</label>
                    </div>
                    <div class="checkbox-item">
                        <input type="checkbox" id="gf3" onchange="updateMetrics()">
                        <label for="gf3">Has hot sister or best friend?</label>
                    </div>
                    <div class="checkbox-item">
                        <input type="checkbox" id="gf4" onchange="updateMetrics()">
                        <label for="gf4">Made future plans (scary)</label>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="section-title">Detailed Activity Log</div>
        <div class="info-field" style="margin-bottom: 20px;">
            <label>Latest Interaction Summary:</label>
            <textarea id="interactionSummary" placeholder="Describe what happened during your most recent interaction..."></textarea>
        </div>
        
        <div class="info-field" style="margin-bottom: 20px;">
            <label>Next Steps / Strategy:</label>
            <textarea id="nextSteps" placeholder="What's your plan for the next interaction?"></textarea>
        </div>
        
        <div class="info-field" style="margin-bottom: 20px;">
            <label>Challenges / Obstacles:</label>
            <textarea id="challenges" placeholder="Any difficulties or concerns?"></textarea>
        </div>
        
        <div class="info-field" style="margin-bottom: 20px;">
            <label>Overall Confidence Level:</label>
            <select id="confidence" onchange="updateMetrics()">
                <option value="">Select level...</option>
                <option value="low">Low - Need backup plan</option>
                <option value="medium">Medium - Cautiously optimistic</option>
                <option value="high">High - Things looking good</option>
                <option value="very-high">Very High - Mission accomplished soon</option>
            </select>
        </div>
        
        <div class="section-title">Additional Metrics</div>
        <div class="info-grid">
            <div class="info-field">
                <label>Wingman Support Level:</label>
                <select id="wingmanLevel">
                    <option value="">Select...</option>
                    <option value="solo">Solo mission (maybe not the best choice)</option>
                    <option value="standby">Wingman on standby (allways there for you)</option>
                    <option value="deployed">Wingman actively deployed (halloween does not count)</option>
                    <option value="intervention">Wingman intervention required (got you homie)</option>
                    <option value="gave-up">Wingman gave up (many times before)</option>
                </select>
            </div>
            <div class="info-field">
                <label>Conversation Quality Score:</label>
                <select id="conversationQuality" onchange="updateMetrics()">
                    <option value="">Select...</option>
                    <option value="cringe">Cringe-worthy</option>
                    <option value="survivable">Survivable</option>
                    <option value="good">Actually Good</option>
                    <option value="smooth">Smooth Operator</option>
                    <option value="legendary">Legendary</option>
                </select>
                <div id="qualityScoreDisplay" class="quality-score-display" style="display: none;"></div>
            </div>
        </div>
        
        <div class="section-title">Excuse Tracker</div>
        <div class="excuse-tracker">
            <div class="checkbox-item">
                <input type="checkbox" id="excuse1">
                <label for="excuse1">Too busy with work</label>
            </div>
            <div class="checkbox-item">
                <input type="checkbox" id="excuse2">
                <label for="excuse2">Waiting for the right moment</label>
            </div>
            <div class="checkbox-item">
                <input type="checkbox" id="excuse3">
                <label for="excuse3">She's probably not interested</label>
            </div>
            <div class="checkbox-item">
                <input type="checkbox" id="excuse4">
                <label for="excuse4">I'm playing it cool</label>
            </div>
            <div class="checkbox-item">
                <input type="checkbox" id="excuse5">
                <label for="excuse5">Need to think about it more</label>
            </div>
            <div class="checkbox-item">
                <input type="checkbox" id="excuse5">
                <label for="excuse5">Soviet Union had less red flags</label>
            </div>
        </div>
        
        <div class="button-group">
            <button class="btn-primary" onclick="generateReport()">Generate Report Summary</button>
            <button class="btn-secondary" onclick="clearForm()">Clear Form</button>
        </div>
    </div>
    
    <script>
        document.getElementById('reportDate').valueAsDate = new Date();
        
        // Track excuse usage
        const excuseCounts = {};
        
        function updateProgress() {
            const checkboxes = document.querySelectorAll('.milestone-checklist input[type="checkbox"]');
            const checked = Array.from(checkboxes).filter(cb => cb.checked).length;
            const total = checkboxes.length;
            const percentage = Math.round((checked / total) * 100);
            
            const progressBar = document.getElementById('progressBar');
            progressBar.style.width = percentage + '%';
            progressBar.textContent = percentage + '%';
            
            const statusBadge = document.getElementById('statusBadge');
            if (percentage === 0) {
                statusBadge.innerHTML = '<span class="status-badge status-initiated">Status: Not Started</span>';
            } else if (percentage < 50) {
                statusBadge.innerHTML = '<span class="status-badge status-initiated">Status: Initial Phase</span>';
            } else if (percentage < 75) {
                statusBadge.innerHTML = '<span class="status-badge status-progressing">Status: Solid Progress</span>';
            } else {
                statusBadge.innerHTML = '<span class="status-badge status-advanced">Status: Advanced Stage</span>';
            }
        }
        
        function updateMetrics() {
            // Update Friend Zone Risk Gauge
            const friendZoneRisk = document.getElementById('friendZoneRisk').value;
            const riskGauge = document.getElementById('riskGaugeDisplay');
            if (friendZoneRisk) {
                let riskClass = 'risk-safe';
                let riskText = 'Safe';
                if (friendZoneRisk === 'caution') {
                    riskClass = 'risk-caution';
                    riskText = 'Caution';
                } else if (friendZoneRisk === 'danger') {
                    riskClass = 'risk-danger';
                    riskText = 'DANGER ZONE';
                } else if (friendZoneRisk === 'friendzone') {
                    riskClass = 'risk-friendzone';
                    riskText = 'Already there';
                }
                riskGauge.innerHTML = `<div class="risk-gauge ${riskClass}">${riskText}</div>`;
            } else {
                riskGauge.innerHTML = '';
            }
            
            // Auto-calculate Conversation Quality Score
            autoCalculateQualityScore();
        }
        
        function autoCalculateQualityScore() {
            const qualitySelect = document.getElementById('conversationQuality');
            const qualityDisplay = document.getElementById('qualityScoreDisplay');
            
            // If manually set, show it
            if (qualitySelect.value) {
                const qualityMap = {
                    'cringe': 'Cringe-worthy üò¨',
                    'survivable': 'Survivable üòÖ',
                    'good': 'Actually Good üëç',
                    'smooth': 'Smooth Operator üòé',
                    'legendary': 'Legendary üèÜ'
                };
                qualityDisplay.textContent = `Score: ${qualityMap[qualitySelect.value]}`;
                qualityDisplay.style.display = 'block';
                return;
            }
            
            // Auto-calculate based on other metrics
            let score = 0;
            const awkwardCount = parseInt(document.getElementById('awkwardCount').value) || 0;
            const responseTime = document.getElementById('responseTime').value;
            const redFlags = document.querySelectorAll('#rf1, #rf2, #rf3, #rf4').length - 
                           document.querySelectorAll('#rf1:checked, #rf2:checked, #rf3:checked, #rf4:checked').length;
            const greenFlags = document.querySelectorAll('#gf1:checked, #gf2:checked, #gf3:checked, #gf4:checked').length;
            const confidence = document.getElementById('confidence').value;
            
            // Scoring logic
            if (responseTime === 'instant') score += 3;
            else if (responseTime === '5min') score += 2;
            else if (responseTime === '1hour') score += 1;
            else if (responseTime === 'ghosted') score -= 2;
            
            score -= awkwardCount; // Each awkward silence reduces score
            score += greenFlags * 2; // Green flags boost score
            score -= (4 - redFlags) * 1; // Red flags reduce score
            
            if (confidence === 'very-high') score += 3;
            else if (confidence === 'high') score += 2;
            else if (confidence === 'medium') score += 1;
            else if (confidence === 'low') score -= 1;
            
            // Determine quality level
            let qualityLevel = 'cringe';
            if (score >= 8) qualityLevel = 'legendary';
            else if (score >= 5) qualityLevel = 'smooth';
            else if (score >= 2) qualityLevel = 'good';
            else if (score >= -1) qualityLevel = 'survivable';
            
            const qualityMap = {
                'cringe': 'Cringe-worthy üò¨',
                'survivable': 'Survivable üòÖ',
                'good': 'Actually Good üëç',
                'smooth': 'Smooth Operator üòé',
                'legendary': 'Legendary üèÜ'
            };
            
            qualitySelect.value = qualityLevel;
            qualityDisplay.textContent = `Auto-calculated: ${qualityMap[qualityLevel]}`;
            qualityDisplay.style.display = 'block';
        }
        
        function updateBadges() {
            const m1 = document.getElementById('m1').checked;
            const m2 = document.getElementById('m2').checked;
            const m3 = document.getElementById('m3').checked;
            const m4 = document.getElementById('m4').checked;
            const m5 = document.getElementById('m5').checked;
            const m6 = document.getElementById('m6').checked;
            const m7 = document.getElementById('m7').checked;
            const m8 = document.getElementById('m8').checked;
            const daysSince = parseInt(document.getElementById('daysSince').value) || 0;
            
            // Count dates (assuming m3, m4, m5, m6, m7, m8 could be separate dates)
            let dateCount = 0;
            if (m3) dateCount++;
            if (m4) dateCount++;
            if (m5) dateCount++;
            if (m6) dateCount++;
            if (m7) dateCount++;
            if (m8) dateCount++;
            
            // Unlock badges
            unlockBadge('badge-first-text', m1);
            unlockBadge('badge-no-panic', m2);
            unlockBadge('badge-asked-out', m3);
            unlockBadge('badge-survived-date', m3);
            unlockBadge('badge-3-dates', dateCount >= 3);
            
            // Speedrunner badge (fast progress)
            const milestones = [m1, m2, m3, m4, m5, m6, m7, m8].filter(Boolean).length;
            const isSpeedrunner = milestones >= 4 && daysSince > 0 && daysSince <= 30;
            unlockBadge('badge-speedrunner', isSpeedrunner);
            
            // Turtle badge (slow progress)
            const isTurtle = milestones < 3 && daysSince >= 60;
            unlockBadge('badge-turtle', isTurtle);
        }
        
        function unlockBadge(badgeId, condition) {
            const badge = document.getElementById(badgeId);
            if (condition) {
                badge.classList.remove('locked');
                badge.classList.add('unlocked');
            } else {
                badge.classList.remove('unlocked');
                badge.classList.add('locked');
            }
        }
        
        function generateReport() {
            const submitter = document.getElementById('submitter').value || 'Anonymous';
            const date = document.getElementById('reportDate').value;
            const subjectName = document.getElementById('subjectName').value || '[Redacted]';
            const daysSince = document.getElementById('daysSince').value || '0';
            
            const checkboxes = document.querySelectorAll('.milestone-checklist input[type="checkbox"]');
            const milestones = Array.from(checkboxes)
                .filter(cb => cb.checked)
                .map(cb => cb.nextElementSibling.textContent);
            
            const summary = document.getElementById('interactionSummary').value;
            const nextSteps = document.getElementById('nextSteps').value;
            const challenges = document.getElementById('challenges').value;
            const confidence = document.getElementById('confidence').value;
            
            // New metrics
            const responseTime = document.getElementById('responseTime').value;
            const awkwardCount = document.getElementById('awkwardCount').value || '0';
            const friendZoneRisk = document.getElementById('friendZoneRisk').value;
            const wingmanLevel = document.getElementById('wingmanLevel').value;
            const conversationQuality = document.getElementById('conversationQuality').value;
            
            // Red flags
            const redFlags = [];
            if (document.getElementById('rf1').checked) redFlags.push('Mentioned ex');
            if (document.getElementById('rf2').checked) redFlags.push('Muslim');
            if (document.getElementById('rf3').checked) redFlags.push('Does not respect serbian definition of monogamy');
            if (document.getElementById('rf4').checked) redFlags.push('Big Nose (Jewish Ancestors)');
            
            // Green flags
            const greenFlags = [];
            if (document.getElementById('gf1').checked) greenFlags.push('Laughed at your jokes');
            if (document.getElementById('gf2').checked) greenFlags.push('Initiated conversation');
            if (document.getElementById('gf3').checked) greenFlags.push('Has hot sister or best friend?');
            if (document.getElementById('gf4').checked) greenFlags.push('Made future plans (scary)');
            
            // Excuses
            const excuses = [];
            if (document.getElementById('excuse1').checked) excuses.push('Too busy with work');
            if (document.getElementById('excuse2').checked) excuses.push('Waiting for the right moment');
            if (document.getElementById('excuse3').checked) excuses.push("She's probably not interested");
            if (document.getElementById('excuse4').checked) excuses.push("I'm playing it cool");
            if (document.getElementById('excuse5').checked) excuses.push('Need to think about it more');
            
            // Achievements
            const achievements = [];
            const badgeElements = document.querySelectorAll('.badge-item.unlocked');
            badgeElements.forEach(badge => {
                achievements.push(badge.querySelector('.badge-name').textContent);
            });
            
            let report = `RELATIONSHIP PROGRESS REPORT\n`;
            report += `=================================\n\n`;
            report += `Submitted by: ${submitter}\n`;
            report += `Date: ${date}\n`;
            report += `Subject: ${subjectName}\n`;
            report += `Timeline: ${daysSince} minutes since initial contact\n\n`;
            
            const responseTimeMap = {
                'instant': 'Instant',
                '5min': 'Within 5 min',
                '1hour': 'Within 1 hour',
                'sameday': 'Same day',
                'ghosted': 'Ghosted for 24+ hours'
            };
            
            const friendZoneMap = {
                'safe': 'Safe',
                'caution': 'Caution',
                'danger': 'DANGER ZONE',
                'friendzone': 'Already there'
            };
            
            const wingmanMap = {
                'solo': 'Solo mission',
                'standby': 'Wingman on standby',
                'deployed': 'Wingman actively deployed',
                'intervention': 'Wingman intervention required',
                'gave-up': 'Wingman gave up'
            };
            
            const qualityMap = {
                'cringe': 'Cringe-worthy',
                'survivable': 'Survivable',
                'good': 'Actually Good',
                'smooth': 'Smooth Operator',
                'legendary': 'Legendary'
            };
            
            report += `KEY PERFORMANCE METRICS:\n`;
            report += `Text Response Time: ${responseTime ? responseTimeMap[responseTime] || responseTime : 'Not specified'}\n`;
            report += `Awkward Silence Count: ${awkwardCount}\n`;
            report += `Friend Zone Risk Level: ${friendZoneRisk ? friendZoneMap[friendZoneRisk] || friendZoneRisk : 'Not specified'}\n`;
            report += `Wingman Support Level: ${wingmanLevel ? wingmanMap[wingmanLevel] || wingmanLevel : 'Not specified'}\n`;
            report += `Conversation Quality Score: ${conversationQuality ? qualityMap[conversationQuality] || conversationQuality : 'Not calculated'}\n\n`;
            
            report += `MILESTONES ACHIEVED (${milestones.length}/8):\n`;
            if (milestones.length > 0) {
                milestones.forEach(m => report += `‚úì ${m}\n`);
            } else {
                report += `None yet\n`;
            }
            
            report += `\nACHIEVEMENT BADGES UNLOCKED (${achievements.length}):\n`;
            if (achievements.length > 0) {
                achievements.forEach(a => report += `üèÜ ${a}\n`);
            } else {
                report += `None yet - Keep trying!\n`;
            }
            
            report += `\nRISK ASSESSMENT:\n`;
            report += `Red Flags Detected (${redFlags.length}):\n`;
            if (redFlags.length > 0) {
                redFlags.forEach(rf => report += `üö© ${rf}\n`);
            } else {
                report += `None detected - Good!\n`;
            }
            report += `Green Flags Observed (${greenFlags.length}):\n`;
            if (greenFlags.length > 0) {
                greenFlags.forEach(gf => report += `‚úÖ ${gf}\n`);
            } else {
                report += `None observed\n`;
            }
            
            report += `\nEXCUSE TRACKER:\n`;
            if (excuses.length > 0) {
                excuses.forEach(e => report += `‚Ä¢ ${e}\n`);
            } else {
                report += `No excuses recorded - Good accountability!\n`;
            }
            
            report += `\nLATEST INTERACTION:\n${summary || 'No details provided'}\n\n`;
            report += `NEXT STEPS:\n${nextSteps || 'No plan documented'}\n\n`;
            report += `CHALLENGES:\n${challenges || 'None reported'}\n\n`;
            report += `CONFIDENCE LEVEL: ${confidence.toUpperCase() || 'NOT SPECIFIED'}\n`;
            
            // Get email address
            const emailAddress = "andre.onephone@gmail.com";
            
            if (!emailAddress) {
                alert('Please enter your email address to generate the email report.');
                return;
            }
            
            // Create email subject
            const emailSubject = `Relationship Progress Report - ${subjectName} - ${date}`;
            
            // URL encode the report body
            const emailBody = encodeURIComponent(report);
            
            // Create mailto link
            const mailtoLink = `mailto:${emailAddress}?subject=${encodeURIComponent(emailSubject)}&body=${emailBody}`;
            
            // Open email client
            window.location.href = mailtoLink;
        }
        
        function clearForm() {
            if (confirm('Clear all form data?')) {
                document.querySelectorAll('input[type="text"], input[type="number"], textarea, select').forEach(el => el.value = '');
                document.querySelectorAll('input[type="checkbox"]').forEach(cb => cb.checked = false);
                document.getElementById('reportDate').valueAsDate = new Date();
                document.getElementById('riskGaugeDisplay').innerHTML = '';
                document.getElementById('qualityScoreDisplay').style.display = 'none';
                updateProgress();
                updateBadges();
                updateMetrics();
            }
        }
        
        // Initialize on load
        updateProgress();
        updateBadges();
        updateMetrics();
        
        // Track excuse usage when checkboxes change
        document.querySelectorAll('#excuse1, #excuse2, #excuse3, #excuse4, #excuse5').forEach(excuse => {
            excuse.addEventListener('change', function() {
                if (this.checked) {
                    const excuseText = this.nextElementSibling.textContent;
                    excuseCounts[excuseText] = (excuseCounts[excuseText] || 0) + 1;
                }
            });
        });
    </script>
</body>
</html>

